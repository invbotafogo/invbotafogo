import"../css/styles.css";let lastExpandedId=null;async function carregarEstudosBiblicos(e){const t=document.getElementById(`${e}-container`);!t||(document.querySelectorAll(".aulas-container").forEach((e=>{e!==t&&e.classList.add("hidden")})),t.classList.toggle("hidden"),t.classList.contains("hidden")||t.children.length>0)||("apocalipse"===e&&[{titulo:"Aula 1",videoID:"W-9M-PvIs3I",pdf:"/src/assets/pdfs/APOCALIPSE_Aula1.pdf"},{titulo:"Aula 2",videoID:"UjytdzVytzI",pdf:"/src/assets/pdfs/APOCALIPSE_Aula2.pdf"},{titulo:"Aula 3",videoID:"NZ1r3sO4dfU",pdf:"/src/assets/pdfs/APOCALIPSE_Aula3.pdf"},{titulo:"Aula 4",videoID:"V_scgNPGmUM",pdf:"/src/assets/pdfs/APOCALIPSE_Aula4.pdf"},{titulo:"Aula 5",videoID:"Q1J2GK_81L0",pdf:"/src/assets/pdfs/APOCALIPSE_Aula5.pdf"},{titulo:"Aula 6",videoID:"foY5i2GJQHI",pdf:"/src/assets/pdfs/APOCALIPSE_Aula6.pdf"},{titulo:"Aula 7",videoID:"Ns_fhLRZfBc",pdf:"/src/assets/pdfs/APOCALIPSE_Aula7.pdf"},{titulo:"Aula 8",videoID:"S2v4D7edAZY",pdf:"/src/assets/pdfs/APOCALIPSE_Aula8.pdf"},{titulo:"Aula 9",videoID:"4BEZ3cBxAxs",pdf:"/src/assets/pdfs/APOCALIPSE_Aula9.pdf"},{titulo:"Aula 10",videoID:"yyNB9latoJA",pdf:"/src/assets/pdfs/APOCALIPSE_Aula10.pdf"},{titulo:"Aula 11",videoID:"B8nssUilmUw",pdf:"/src/assets/pdfs/APOCALIPSE_Aula11.pdf"},{titulo:"Aula 12",videoID:"1vcK5Iq01Xg",pdf:"/src/assets/pdfs/APOCALIPSE_Aula12.pdf"},{titulo:"Aula 13",videoID:"6ytzOZ6hxPo",pdf:"/src/assets/pdfs/APOCALIPSE_Aula13.pdf"},{titulo:"Aula 14",videoID:"8xSw2fvRmos",pdf:"/src/assets/pdfs/APOCALIPSE_Aula14.pdf"},{titulo:"Aula 15",videoID:"e2Hx7JHyCws",pdf:"/src/assets/pdfs/APOCALIPSE_Aula15.pdf"},{titulo:"Aula 16",videoID:"9nF4GHUhqc8",pdf:"/src/assets/pdfs/APOCALIPSE_Aula16.pdf"},{titulo:"Aula 17",videoID:"KKLdA2VGj6k",pdf:"/src/assets/pdfs/APOCALIPSE_Aula17.pdf"},{titulo:"Aula 18",videoID:"Ix74fta9zYE",pdf:"/src/assets/pdfs/APOCALIPSE_Aula18.pdf"},{titulo:"Aula 19",videoID:"nTVSwWWeDws",pdf:"/src/assets/pdfs/APOCALIPSE_Aula19.pdf"},{titulo:"Aula 21",videoID:"Ezp3lBmE7gM",pdf:"/src/assets/pdfs/APOCALIPSE_Aula21.pdf"}].forEach((e=>{const o=document.createElement("div");o.classList.add("aula-card"),o.innerHTML=`\n          <iframe src="https://www.youtube.com/embed/${e.videoID}" title="${e.titulo}" allowfullscreen></iframe>\n          <h3>${e.titulo}</h3>\n          <a href="${e.pdf}" download class="btn">Baixar PDF</a>\n        `,t.appendChild(o)})),"evangelismo"===e&&(t.innerHTML='<p style="padding:10px;">As aulas de Evangelismo estarão disponíveis em breve 🙏</p>'))}async function loadComponent(e,t){try{const o=await fetch(t);if(!o.ok)throw new Error(`Erro ao carregar ${t}`);const s=await o.text();document.querySelector(e).innerHTML=s}catch(e){console.error(e)}}function copiarPix(){const e=document.getElementById("chave-pix").innerText;navigator.clipboard.writeText(e).then((()=>{document.getElementById("confirmacao-pix").textContent="Chave PIX copiada!",setTimeout((()=>{document.getElementById("confirmacao-pix").textContent=""}),3e3)}))}async function carregarVideos(){try{const e=await fetch("https://raw.githubusercontent.com/invbotafogo/invbotafogo/refs/heads/data/videos.json"),t=await e.json(),o=document.getElementById("videos");if(!o)return;t.items.forEach((e=>{if("youtube#video"===e.id.kind){const t=e.id.videoId,s=document.createElement("iframe");s.src=`https://www.youtube.com/embed/${t}`,s.width="360",s.height="215",s.frameBorder="0",s.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",s.allowFullscreen=!0,s.style.margin="10px",o.appendChild(s)}}))}catch(e){console.error("Erro ao carregar vídeos:",e)}}function mostrarProximoCulto(){const e=document.getElementById("proximo-culto");if(!e)return;const t=new Date,o=[{dia:3,hora:19,minutos:30},{dia:0,hora:10,minutos:0},{dia:0,hora:19,minutos:0}].map((e=>{const o=new Date(t),s=(e.dia-o.getDay()+7)%7;return o.setDate(o.getDate()+s),o.setHours(e.hora,e.minutos,0,0),o})).filter((e=>e>t||t-e<=72e5)).sort(((e,t)=>e-t))[0];if(!o)return;const s=o.toLocaleString("pt-BR",{weekday:"long",hour:"2-digit",minute:"2-digit"}),a="https://www.youtube.com/@igrejadenovavidabotafogo3785/live",d=o<=t;e.innerHTML=d?`🎥 Culto ao vivo agora! <a href="${a}" target="_blank">Clique para assistir</a>`:`🗓️ Próximo culto: ${s}. <a href="${a}" target="_blank">Clique para assistir</a>`}async function setupMobileMenu(){const e=document.querySelector(".navbar__toggle"),t=document.querySelector("#menu");if(!e||!t)return;const o="is-open";function s(){e.classList.toggle("active"),t.classList.remove(o),document.removeEventListener("click",a)}function a(o){t.contains(o.target)||o.target===e||s()}function d(e){"Escape"===e.key&&s()}window.addEventListener("resize",(()=>s())),t.addEventListener("click",(e=>{"A"===e.target.tagName&&s()})),e.addEventListener("click",(n=>{n.stopPropagation(),t.classList.contains(o)?s():(e.classList.toggle("active"),t.classList.add(o),document.addEventListener("click",a),document.addEventListener("keydown",d,{once:!0}))}))}document.addEventListener("DOMContentLoaded",(async()=>{await loadComponent("#header","header.html"),await setupMobileMenu(),await loadComponent("#footer","footer.html"),window.addEventListener("scroll",(function(){const e=document.querySelector(".section-home"),t=document.querySelector(".section-cultos-unificada"),o=document.querySelector(".section-historia");e&&t&&o&&(window.scrollY>100?(e.classList.add("fade-out"),t.style.opacity=1,o.style.opacity=1):(e.classList.remove("fade-out"),t.style.opacity=0,o.style.opacity=0))}));const e=document.getElementById("copiar-btn");e&&e.addEventListener("click",copiarPix);const t=document.querySelectorAll(".card"),o=document.getElementById("expanded-content");t&&o&&(t.forEach((e=>{e.addEventListener("click",(()=>{const t=e.id;o.innerHTML="";const s=document.querySelector(`#expanded-items .expanded-item[data-id="${t}"]`);s&&o.appendChild(s.cloneNode(!0)),o.classList.remove("hidden"),o.scrollIntoView({behavior:"smooth"}),lastExpandedId=t}))})),o.addEventListener("click",(()=>{o.classList.add("hidden"),o.innerHTML="",lastExpandedId=null})));const s=new URLSearchParams(window.location.search).get("ministerio");if(s){const e=document.getElementById("expanded-content"),t=document.querySelector(`#expanded-items .expanded-item[data-id="${s}"]`);e&&t&&(e.innerHTML="",e.appendChild(t.cloneNode(!0)),e.classList.remove("hidden"),e.scrollIntoView({behavior:"smooth"}))}const a=document.querySelector(".carousel-track"),d=document.querySelectorAll(".carousel-item"),n=document.querySelector(".carousel-btn.prev"),i=document.querySelector(".carousel-btn.next");let c=0;function r(){if(d&&d[0]){const e=d[0].offsetWidth;a.style.transform=`translateX(-${c*e}px)`}}i&&i.addEventListener("click",(()=>{c=(c+1)%d.length,r()})),n&&n.addEventListener("click",(()=>{c=(c-1+d.length)%d.length,r()})),window.addEventListener("resize",r),await carregarVideos(),await mostrarProximoCulto()})),window.carregarEstudosBiblicos=carregarEstudosBiblicos;